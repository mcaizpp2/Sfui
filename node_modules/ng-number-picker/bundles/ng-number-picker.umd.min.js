!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-number-picker",["exports","@angular/core","@angular/forms","@angular/common"],e):e(t["ng-number-picker"]={},t.ng.core,t.ng.forms,t.ng.common)}(this,function(t,e,n,i){"use strict";var o=function(){function t(){this.min=0,this.max=100,this.step=1,this.pickStartAfter=500,this.pickTimer=100,this.precision=1,this.value=null}return t.decorators=[{type:e.Injectable}],t}(),s=function(){function t(t){this.numberPickerService=t,this.eventHolder=null,this.countInterval=null,this.isInputFocused=!1,this.size="md",this.customClass={},this.mouseWheel=!1,this.arrowKeys=!0,this.inputReadOnly=!1,this.showUpButton=!0,this.showDownButton=!0,this.valueChange=new e.EventEmitter,this.minReached=new e.EventEmitter,this.maxReached=new e.EventEmitter,this.pickStarted=new e.EventEmitter,this.pickStoped=new e.EventEmitter,this.pickUpStarted=new e.EventEmitter,this.pickUpStoped=new e.EventEmitter,this.pickDownStarted=new e.EventEmitter,this.pickDownStoped=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.initPicker()},t.prototype.isHorizontal=function(){return"v"!==this.buttonsOrientation&&"vertical"!==this.buttonsOrientation},t.prototype.onFocus=function(t){t.preventDefault(),t.stopPropagation(),this.isInputFocused=!0},t.prototype.onBlur=function(t){t.preventDefault(),t.stopPropagation(),this.isInputFocused=!1},t.prototype.onMouseWheel=function(t){if(this.isInputFocused){t.preventDefault();var e=null,n=null;t.deltaY&&(n=t.deltaY/60),t.detail&&(n=-t.detail/2),null!==n&&(e=0<n),this.afterMouseWheels(e,t),t.stopPropagation()}},t.prototype.afterMouseWheels=function(t,e){this.onPickStarted(t),t?this.onIncrease(e):this.onDecrease(e),this.onPickStoped(t)},t.prototype.onValueChange=function(t){this.value>this.max?this.value=this.max:this.value<this.min&&(this.value=this.min),this.parseVal(this.value)&&this.valueChange.emit(this.value)},t.prototype.onDecrease=function(t){t.preventDefault(),this.canDecrease()?(this.value=this.round(this.value>this.min?this.value-=this.step:this.value),this.valueChange.emit(this.value)):this.minReached.emit(!0),t.stopPropagation()},t.prototype.onIncrease=function(t){t.preventDefault(),this.canIncrease()?(this.value=this.round(this.value<this.max?this.value+=this.step:this.value),this.valueChange.emit(this.value)):this.maxReached.emit(!0),t.stopPropagation()},t.prototype.onMouseDown=function(t,e){void 0===e&&(e=!0),this.afterMouseDown(e,t)},t.prototype.isArrowUpDown=function(t){return 38===t||40===t},t.prototype.isArowUp=function(t){return 38===t},t.prototype.loopPick=function(t,e){var n=this;this.onPickStarted(t),this.eventHolder=setTimeout(function(){n.countInterval=setInterval(function(){t?n.onIncrease(e):n.onDecrease(e)},n.pickTimer)},this.pickStartAfter)},t.prototype.onMouseUp=function(t,e){void 0===e&&(e=!0),this.afterMouseUp(e,t)},t.prototype.onKeyDown=function(t){this.isArrowUpDown(t.keyCode)&&(t.preventDefault(),this.eventHolder||this.loopPick(this.isArowUp(t.keyCode),t)),t.stopPropagation()},t.prototype.onKeyUp=function(t){this.isArrowUpDown(t.keyCode)&&(t.preventDefault(),this.afterPick(this.isArowUp(t.keyCode))),t.stopPropagation()},t.prototype.afterMouseDown=function(t,e){e.preventDefault(),this.isLeftClick(e.which)&&this.loopPick(t,e),e.stopPropagation()},t.prototype.afterMouseUp=function(t,e){e.preventDefault(),this.afterPick(t),e.stopPropagation()},t.prototype.afterPick=function(t){this.onPickStoped(t),this.clearTimers()},t.prototype.clearTimers=function(){clearTimeout(this.eventHolder),clearInterval(this.countInterval),this.eventHolder=null,this.countInterval=null},t.prototype.afterArrowKeysPressed=function(t,e,n){n?this.loopPick(t,e):this.afterPick(t)},t.prototype.parseVal=function(t){return"number"==typeof t?t:parseFloat(t)},t.prototype.getPrecision=function(t){return/\d*$/.exec(String(t))[0].length},t.prototype.round=function(t){return Math.round(t*Math.pow(10,this.precision))/Math.pow(10,this.precision)},t.prototype.canIncrease=function(){var t=this.value<=this.max-this.step;return t||(this.value=this.max),t},t.prototype.canDecrease=function(){var t=this.value>=this.min+this.step;return t||(this.value=this.min),t},t.prototype.onPickStarted=function(t){t?this.canIncrease()&&(this.pickStarted.emit(!0),this.pickUpStarted.emit(!0)):this.canDecrease()&&(this.pickStarted.emit(!0),this.pickDownStarted.emit(!0))},t.prototype.onPickStoped=function(t){t?this.canIncrease()&&(this.pickUpStoped.emit(!0),this.pickStoped.emit(!0)):this.canDecrease()&&(this.pickDownStoped.emit(!0),this.pickStoped.emit(!0))},t.prototype.isLeftClick=function(t){return 1===t},t.prototype.initPicker=function(){this.min=this.parseVal(this.min)||this.numberPickerService.min,this.max=this.parseVal(this.max)||this.numberPickerService.max,this.step=this.parseVal(this.step)||this.numberPickerService.step,this.value=this.parseVal(this.value)||this.numberPickerService.value,this.pickStartAfter=this.parseVal(this.pickStartAfter)||this.numberPickerService.pickStartAfter,this.pickTimer=this.parseVal(this.pickTimer)||this.numberPickerService.pickTimer,this.precision=this.getPrecision(this.step)||this.numberPickerService.precision,this.value=this.round(this.value),this.placeholder=this.placeholder!==undefined?this.placeholder:""},t.decorators=[{type:e.Component,args:[{selector:"ng-number-picker",template:'\n  <div class="input-group mb-3 input-{{size}} {{customClass.container}}">\n  \x3c!-- Horizontal decrease button orientation --\x3e\n  <div class="input-group-prepend" *ngIf="isHorizontal() && showDownButton">\n    <span class="input-group-text decrease {{customClass.down}}" (click)="onDecrease($event)"\n    (mouseup)="onMouseUp($event, false)" (mousedown)="onMouseDown($event, false)">-</span>\n  </div>\n  \x3c!-- Input prefix --\x3e\n  <div *ngIf="prefix" class="input-group-prepend">\n    <span class="input-group-text {{customClass.prefix}}">{{prefix}}</span>\n  </div>\n  <input type="number" class="form-control" name="input-spin-val"\n  [(ngModel)]="value"\n  [readOnly]="inputReadOnly"\n  (blur)="onBlur($event)"\n  (focus)="onFocus($event)"\n  (mousewheel)="mouseWheel && onMouseWheel($event)"\n  (keyup)="arrowKeys && onKeyUp($event)"\n  (keydown)="arrowKeys && onKeyDown($event)"\n  (keydown.arrowup)="arrowKeys && onIncrease($event)"\n  (keydown.arrowdown)="arrowKeys && onDecrease($event)"\n  (change)="onValueChange($event)"\n  [placeholder]="placeholder"\n  >\n  \x3c!-- Input postfix --\x3e\n  <div *ngIf="postfix" class="input-group-prepend">\n    <span class="input-group-text {{customClass.postfix}}" [style.borderLeft]="\'0\'">{{postfix}}</span>\n  </div>\n  \x3c!-- Horizontal increase button orientation --\x3e\n  <div class="input-group-prepend" *ngIf="isHorizontal() && showUpButton">\n    <span class="input-group-text increase {{customClass.up}}" [style.borderLeft]="(!postfix) ? \'0\' : \'\'" (click)="onIncrease($event)"\n    (mouseup)="onMouseUp($event)" (mousedown)="onMouseDown($event)">+</span>\n  </div>\n  \x3c!-- Vertical buttons orientation --\x3e\n  <div class="input-group-append" *ngIf="!isHorizontal()">\n    <span class="input-group-text vertical p-0">\n      <span *ngIf="showUpButton" class="{{customClass.up}}" (click)="onIncrease($event)" (mouseup)="onMouseUp($event)"\n      (mousedown)="onMouseDown($event)">+</span>\n      <span *ngIf="showDownButton" class="{{customClass.down}}" (click)="onDecrease($event)" (mouseup)="onMouseUp($event, false)"\n      (mousedown)="onMouseDown($event, false)">-</span>\n    </span>\n  </div>\n</div>\n  ',styles:["input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.decrease:hover,.increase:hover{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;background-color:#d8d8d8}.increase{border-top-right-radius:3px!important;border-bottom-right-radius:3px!important}.vertical{display:flex;justify-content:center;flex-direction:column;text-align:center;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vertical span{line-height:15px}.input-md .vertical span,.input-sm .vertical span{padding:2px 10px}.input-lg .vertical span{padding:4px 10px}.input-xlg .vertical span{padding:7px 10px}.input-md,.input-medium{height:45px}.input-large,.input-lg{height:50px}.input-xlarge,.input-xlg{height:75px}.input-md input,.input-md span,.input-medium input,.input-medium span{font-size:22px}.input-large input,.input-large span,.input-lg input,.input-lg span{font-size:25px}.input-xlarge input,.input-xlarge span,.input-xlg input,.input-xlg span{font-size:38px}"]}]}],t.ctorParameters=function(){return[{type:o}]},t.propDecorators={min:[{type:e.Input}],max:[{type:e.Input}],step:[{type:e.Input}],value:[{type:e.Input}],pickStartAfter:[{type:e.Input}],pickTimer:[{type:e.Input}],prefix:[{type:e.Input}],postfix:[{type:e.Input}],placeholder:[{type:e.Input}],buttonsOrientation:[{type:e.Input}],size:[{type:e.Input}],customClass:[{type:e.Input}],mouseWheel:[{type:e.Input}],arrowKeys:[{type:e.Input}],inputReadOnly:[{type:e.Input}],showUpButton:[{type:e.Input}],showDownButton:[{type:e.Input}],valueChange:[{type:e.Output}],minReached:[{type:e.Output}],maxReached:[{type:e.Output}],pickStarted:[{type:e.Output}],pickStoped:[{type:e.Output}],pickUpStarted:[{type:e.Output}],pickUpStoped:[{type:e.Output}],pickDownStarted:[{type:e.Output}],pickDownStoped:[{type:e.Output}]},t}(),p=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,n.FormsModule],providers:[o],declarations:[s],exports:[s]}]}],t}();t.NumberPickerService=o,t.NumberPickerComponent=s,t.NumberPickerModule=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-number-picker.umd.min.js.map